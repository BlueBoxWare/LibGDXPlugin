buildscript {

    ext.kotlin_version = '1.1.1'

    repositories {
        maven { url 'http://dl.bintray.com/jetbrains/intellij-plugin-service' }
    }

}

plugins {
    id "org.jetbrains.kotlin.jvm" version "1.1.1"
    id "org.jetbrains.intellij" version "0.2.5"
}

apply plugin: 'org.jetbrains.intellij'
apply plugin: 'java'

group 'com.gmail.blueboxware'
version '1.9'

intellij {
    version = '2016.3.2'
    plugins = ['org.jetbrains.kotlin:1.1.1-release-IJ2016.3-1', 'Groovy', 'properties']
    pluginName = 'LibGDX Inspections'
    updateSinceUntilBuild = false
    downloadSources =  true
}

repositories {
    mavenCentral()
}

sourceSets {
    main {
        resources.srcDir 'resources'
        java.srcDir 'gen'
    }
}

test {
    systemProperty 'idea.home.path', System.getenv("LIBGDXPLUGIN_IDEA")
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
    compile "org.jetbrains.kotlin:kotlin-runtime:$kotlin_version"

    testCompile group: 'junit', name: 'junit', version: '4.11'
}

task libJar(type: Jar) {
    archiveName 'libgdxpluginannotations.jar'
    from sourceSets.main.output
    include 'com/gmail/blueboxware/libgdxplugin/annotations/**'
}